{% extends 'base.html' %} {% block content %}

<div class="container">
  <div class="d-flex flex-column my-5">
    <div class="input-group my-3">
      <input
        type="search"
        class="form-control rounded mx-1"
        placeholder="Search"
        aria-label="Search"
        aria-describedby="search-addon"
      />
      <button
        type="button"
        class="btn btn-outline-dark mx-1"
        data-mdb-ripple-init
      >
        search
      </button>
    </div>

    <div class="table-videos overflow-scroll">
      <table class="table table-sm flex-row">
        <thead class="header-cell">
          <tr class="header-cell">
            <th scope="col" class="header-cell">#</th>
            <th scope="col" class="header-cell">video location</th>

            <th scope="col" class="header-cell">Product Code</th>
            <th scope="col" class="header-cell">Product Description</th>
            <th scope="col" class="header-cell">Factory</th>
            <th scope="col" class="header-cell">Operation Code</th>
            <th scope="col" class="header-cell">Operation Description</th>
            <th scope="col" class="header-cell">Machine Number</th>
            <th scope="col" class="header-cell">Machine Description</th>
            <th scope="col" class="header-cell">Operator Code</th>
            <th scope="col" class="header-cell">Operator Name</th>
            <!-- Add more columns for other form fields -->
          </tr>
        </thead>
        <tbody>
          {% for item in videos %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>
              <a
                href="#"
                id="view-stream"
                onclick="openStream('{{ item.video_file }}')"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-film"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm4 0v6h8V1zm8 8H4v6h8zM1 1v2h2V1zm2 3H1v2h2zM1 7v2h2V7zm2 3H1v2h2zm-2 3v2h2v-2zM15 1h-2v2h2zm-2 3v2h2V4zm2 3h-2v2h2zm-2 3v2h2v-2zm2 3h-2v2h2z"
                  />
                </svg>
              </a>
            </td>
            <td>{{ item.product_code }}</td>
            <td>{{ item.product_description }}</td>
            <td>{{ item.factory }}</td>
            <td>{{ item.operation_code }}</td>
            <td>{{ item.operation_description }}</td>
            <td>{{ item.machine_number }}</td>
            <td>{{ item.machine_description }}</td>
            <td>{{ item.operator_code }}</td>
            <td>{{ item.operator_name }}</td>
            <!-- Add more cells for other form fields -->
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <script>
    function openStream(url) {
      // Show the video streamer container
      //{% comment %} document.getElementById("video-streamer").style.display = "block"; {% endcomment %}
      // Set the video source to the clicked video URL
      //var convertedUrl = url.replace(/^.*?\/media/, "localhost:7000/media");
      //console.log(convertedUrl);
      //document.getElementById("video-player").src = convertedUrl;
    }
  </script>

  <script>
    var video_file = "{{item.video_file}}";
    console.log(video_file);
    if (video_file == "") {
      document.getElementById("view-stream").style.display = "None";
    }
  </script>

  {% endblock %}
</div>
